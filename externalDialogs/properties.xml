<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<properties>

    <uuid>Dialogs</uuid>
    <provider>java</provider>
    <author>Nikolay V. Ulyanov</author>
    <contacts>ulianownv@mail.ru</contacts>
    <homePage>http://www.smcsystem.ru</homePage>
    <categories>Java, Gui, Window</categories>
    <copyrightAndLicense>
        <entry>
            <key>en</key>
            <value><![CDATA[The author and copyright holder is Nikolay V. Ulyanov.
The program is free for use.
Forbidden: changing the program code, its sale / resale, as well as other actions and rights not explicitly permitted.
The program is supplied as is. For problems arising during the operation or installation of the program, the author, developer and distributor are not responsible.
            ]]></value>
        </entry>
        <entry>
            <key>ru</key>
            <value><![CDATA[Автором и правообладателем является Ульянов Николай Владимирович.
Программа бесплатна для использования.
Запрещено: изменение кода программы, её продажа/перепродажа а так же иные не разрешенные явно действия и права.
Программа поставляется как есть. За проблемы, возникающие в процессе эксплуатации или установки программы, автор, разработчик и распространитель ответственности не несут.
            ]]></value>
        </entry>
    </copyrightAndLicense>
    <className>ru.smcsystem.smcmodules.module.Dialogs</className>
    <ver>1.2.3</ver>
    <apiVer>1.4.3</apiVer>
    <date>18-02-2026</date>

    <defaultSettings>
        <value>
            <name>type</name>
            <type>STRING</type>
            <validValues>
                <value>INPUT</value>
                <value>TWO_INPUT</value>
                <value>CONFIRM_OK_CANCEL</value>
                <value>CONFIRM_YES_NO</value>
                <value>CONFIRM_YES_NO_CANCEL</value>
                <value>MESSAGE</value>
                <value>FILE_READ</value>
                <value>FILE_SAVE</value>
                <value>SELECT</value>
                <value>CHAT</value>
                <value>CHAT_PLAIN</value>
            </validValues>
            <value>INPUT</value>
            <description>
                <entry>
                    <key>en</key>
                    <value><![CDATA[
dialog box type:
    INPUT - a dialog box with a single input field. returns text from a field if press button.
    TWO_INPUT - a dialog box with two input fields. returns text from fields if press button.
    CONFIRM_OK_CANCEL - dialog box with OK and CANCEL buttons. if OK is pressed returns 0, if CANCEL is 2, if the window is closed otherwise -1.
    CONFIRM_YES_NO - a dialog box with the YES and NO buttons. if YES is pressed returns 0, if NO - 1, if the window is closed otherwise -1.
    CONFIRM_YES_NO_CANCEL - a dialog box with the YES, NO and CANCEL buttons. if YES is pressed returns 0, if NO - 1, if CANCEL - 2, if the window is closed otherwise -1.
    MESSAGE - a dialog box with text. returns nothing.
    FILE_READ - a dialog box for selecting a file to read. returns the absolute path to the file (if selected).
    FILE_SAVE - dialog box for selecting a file for recording. returns the absolute path to the file (if selected).
    SELECT - a dialog box for selecting an option from a list. returns selected value. Incoming messages are used as options.
    CHAT - a form for correspondence with an external source. Contains a text input field and an area where the input is printed, as well as a response.
        The response is obtained by calling the first context, the entered text is passed to it, a value of any type is expected.
        If the context returned 2 values, the second is considered as the responder's identifier and is displayed in the header.
        If an ObjectArray containing objects is returned, it is displayed as a table.
        If there are incoming messages, then:
            the text of the first one is treated as the requester's ID and displayed in the header.
            the text of the second is treated as the field name or object path to be used if an array of objects is returned, for example: field1.innerObjField2
    CHAT_PLAIN - similar to CHAT, but does not render HTML.
                 ]]></value>
                </entry>
                <entry>
                    <key>ru</key>
                    <value><![CDATA[
тип диалогового окна:
    INPUT - диалоговое окно с одинм полем ввода. Возвращает текст из поля если нажата кнопка.
    TWO_INPUT - диалоговое окно с двумя полями ввода. Возвращает текст из полей если нажата кнопка.
    CONFIRM_OK_CANCEL - диалоговое окно с кнопками OK и CANCEL. Если нажата OK возвращает 0, если CANCEL - 2, если закрыто окно иначе - -1.
    CONFIRM_YES_NO - диалоговое окно с кнопками YES и NO. Если нажата YES возвращает 0, если NO - 1, если закрыто окно иначе - -1.
    CONFIRM_YES_NO_CANCEL - диалоговое окно с кнопками YES, NO и CANCEL. Если нажата YES возвращает 0, если NO - 1, если CANCEL - 2, если закрыто окно иначе - -1.
    MESSAGE - диалоговое окно с текстом. Ничего не возвращает.
    FILE_READ - диалоговое окно выбора файла для чтения. Возвращает абсолютный путь к файлу (если выбран).
    FILE_SAVE - диалоговое окно выбора файла для записи. Возвращает абсолютный путь к файлу (если выбран).
    SELECT - диалоговое окно выбора варианта из списка. Возвращает выбранное значение. В качестве вариантов используются входящие сообщения.
    CHAT - форма для переписки с внешним источником. Содержит тестовое поле ввода и область куда печатается ввод, а так же ответ.
        Ответ получается, вызовом первого контекста, ему передается введенный текст, ожидается значение любого типа.
        Если контекст вернул 2 значения, то второе рассматривается как идентификатор ответившего и отображается в заголовке.
        Если возвращается ObjectArray содержащий объекты, то отображает его в виде таблицы.
        Если есть входящие сообщения, то:
            текст первого рассматривается как идентификатор спрашивающего и отображается в заголовке.
            текст второго рассматривается как имя поля или путь объекта, который будет использоваться если возвращается массив объектов, например: field1.innerObjField2
    CHAT_PLAIN - аналогичен CHAT, но не рендерит HTML.
                 ]]></value>
                </entry>
            </description>
        </value>
        <value>
            <name>title</name>
            <type>STRING</type>
            <value>[[title]]!</value>
            <subType>STRING</subType>
            <description>
                <entry>
                    <key>en</key>
                    <value>title.</value>
                </entry>
                <entry>
                    <key>ru</key>
                    <value>заголовок.</value>
                </entry>
            </description>
        </value>
        <value>
            <name>message</name>
            <type>STRING</type>
            <value>[[message]]!</value>
            <description>
                <entry>
                    <key>en</key>
                    <value>message.</value>
                </entry>
                <entry>
                    <key>ru</key>
                    <value>текст.</value>
                </entry>
            </description>
        </value>
        <value>
            <name>lang</name>
            <type>STRING</type>
            <value><![CDATA[title::en::Title::ru::Заголовок;;
message::en::Message::ru::Текст;;
            ]]></value>
            <description>
                <entry>
                    <key>ru</key>
                    <value>Массив строка для интернационализации. формат: имя_переменной::имя_языка_1::текст::имя_языка_2::текст_2::...</value>
                </entry>
                <entry>
                    <key>en</key>
                    <value>Array string for internationalization. format: variable_name::language_name_1::text::language_2_name::text_2::...</value>
                </entry>
            </description>
        </value>
    </defaultSettings>

    <types>
        <type t="default" minS="0" maxS="-1" minEC="0" maxEC="1">
            <description>
                <entry k="ru" v="Контекст исполнения по умолчанию. Результат зависит от настройки type."/>
                <entry k="en" v="Default execution context. The result depends on the setting type."/>
            </description>
            <sources>
                <source>
                    <count>-1</count>
                    <description>
                        <entry>
                            <key>ru</key>
                            <value>Все входящие значения со всех контекстов соединяет в одно текстовое сообщение и передает дальше для обработки и отображения.</value>
                        </entry>
                        <entry>
                            <key>en</key>
                            <value>All incoming values from all contexts are combined into one text message and passed on for processing and display.</value>
                        </entry>
                    </description>
                    <elements>
                        <element t="VALUE_ANY" c="-1" vt="STRING" v="Hello world"/>
                    </elements>
                </source>
            </sources>
            <ecs>
                <ec>
                    <description>
                        <entry k="ru" v="Используется если выбран type CHAT. Ему передается вводимый текст, ожидает 0-2 сообщения, первое сообщение любого типа, второе - текст для идентификации ответившего."/>
                        <entry k="en" v="Used if the type CHAT is selected. It is passed the input text, waits for 0-2 messages, the first message is of any type, the second is the text for identifying the responder."/>
                    </description>
                    <elements>
                        <element t="VALUE" vt="STRING" v="hello world"/>
                    </elements>
                    <output>
                        <element t="VALUE_ANY" o="true" vt="INTEGER" v="1"/>
                        <element t="VALUE" o="true" vt="STRING" v="user1"/>
                    </output>
                </ec>
            </ecs>
            <output>
                <element>
                    <type>IF</type>
                    <checkSetting>type</checkSetting>
                    <valueType>STRING</valueType>
                    <value>INPUT</value>
                    <elements>
                        <element>
                            <type>VALUE</type>
                            <count>1</count>
                            <description>
                                <entry>
                                    <key>ru</key>
                                    <value>Выводит сообщение, введенное в поле ввода.</value>
                                </entry>
                                <entry>
                                    <key>en</key>
                                    <value>Displays the message entered in the input field.</value>
                                </entry>
                            </description>
                            <valueType>STRING</valueType>
                            <value>Hello world</value>
                        </element>
                    </elements>
                </element>
                <element>
                    <type>IF</type>
                    <checkSetting>type</checkSetting>
                    <valueType>STRING</valueType>
                    <value>TWO_INPUT</value>
                    <elements>
                        <element>
                            <type>VALUE</type>
                            <count>1</count>
                            <description>
                                <entry>
                                    <key>ru</key>
                                    <value>Выводит сообщение, введенное в поле ввода.</value>
                                </entry>
                                <entry>
                                    <key>en</key>
                                    <value>Displays the message entered in the input field.</value>
                                </entry>
                            </description>
                            <valueType>STRING</valueType>
                            <value>Hello world</value>
                        </element>
                        <element>
                            <type>VALUE</type>
                            <count>1</count>
                            <description>
                                <entry>
                                    <key>ru</key>
                                    <value>Выводит сообщение, введенное во второе поле ввода.</value>
                                </entry>
                                <entry>
                                    <key>en</key>
                                    <value>Displays the message entered in the second input field.</value>
                                </entry>
                            </description>
                            <valueType>STRING</valueType>
                            <value>Hello world2</value>
                        </element>
                    </elements>
                </element>
                <element>
                    <type>IF</type>
                    <checkSetting>type</checkSetting>
                    <valueType>STRING</valueType>
                    <value>CONFIRM_OK_CANCEL</value>
                    <elements>
                        <element>
                            <type>VALUE</type>
                            <count>1</count>
                            <description>
                                <entry>
                                    <key>ru</key>
                                    <value>Выводит 0 для YES и 2 для CANCEL.</value>
                                </entry>
                                <entry>
                                    <key>en</key>
                                    <value>Display 0 for OK and 2 for CANCEL.</value>
                                </entry>
                            </description>
                            <valueType>INTEGER</valueType>
                            <value>0</value>
                        </element>
                    </elements>
                </element>
                <element>
                    <type>IF</type>
                    <checkSetting>type</checkSetting>
                    <valueType>STRING</valueType>
                    <value>YES_NO_OPTION</value>
                    <elements>
                        <element>
                            <type>VALUE</type>
                            <count>1</count>
                            <description>
                                <entry>
                                    <key>ru</key>
                                    <value>Выводит 0 для YES и 1 для NO.</value>
                                </entry>
                                <entry>
                                    <key>en</key>
                                    <value>Display 0 for YES and 1 for NO.</value>
                                </entry>
                            </description>
                            <valueType>INTEGER</valueType>
                            <value>0</value>
                        </element>
                    </elements>
                </element>
                <element>
                    <type>IF</type>
                    <checkSetting>type</checkSetting>
                    <valueType>STRING</valueType>
                    <value>YES_NO_CANCEL_OPTION</value>
                    <elements>
                        <element>
                            <type>VALUE</type>
                            <count>1</count>
                            <description>
                                <entry>
                                    <key>ru</key>
                                    <value>Выводит 0 для YES, 1 для NO и 2 для CANCEL.</value>
                                </entry>
                                <entry>
                                    <key>en</key>
                                    <value>Display 0 for YES, 1 for NO and 2 for CANCEL.</value>
                                </entry>
                            </description>
                            <valueType>INTEGER</valueType>
                            <value>0</value>
                        </element>
                    </elements>
                </element>
                <element>
                    <type>IF</type>
                    <checkSetting>type</checkSetting>
                    <valueType>STRING</valueType>
                    <value>FILE_READ</value>
                    <elements>
                        <element>
                            <type>VALUE</type>
                            <count>1</count>
                            <description>
                                <entry>
                                    <key>ru</key>
                                    <value>Выводит полный путь к выбранному файлу.</value>
                                </entry>
                                <entry>
                                    <key>en</key>
                                    <value>Display absolute path selected file.</value>
                                </entry>
                            </description>
                            <valueType>STRING</valueType>
                            <value>/test/file.txt</value>
                        </element>
                    </elements>
                </element>
                <element>
                    <type>IF</type>
                    <checkSetting>type</checkSetting>
                    <valueType>STRING</valueType>
                    <value>FILE_SAVE</value>
                    <elements>
                        <element>
                            <type>VALUE</type>
                            <count>1</count>
                            <description>
                                <entry>
                                    <key>ru</key>
                                    <value>Выводит полный путь к выбранному файлу.</value>
                                </entry>
                                <entry>
                                    <key>en</key>
                                    <value>Display absolute path selected file.</value>
                                </entry>
                            </description>
                            <valueType>STRING</valueType>
                            <value>/test/file.txt</value>
                        </element>
                    </elements>
                </element>
                <element>
                    <type>IF</type>
                    <checkSetting>type</checkSetting>
                    <valueType>STRING</valueType>
                    <value>SELECT</value>
                    <elements>
                        <element>
                            <type>VALUE</type>
                            <count>-1</count>
                            <description>
                                <entry>
                                    <key>ru</key>
                                    <value>Выводит выбранные элементы.</value>
                                </entry>
                                <entry>
                                    <key>en</key>
                                    <value>Output selected items.</value>
                                </entry>
                            </description>
                            <valueType>STRING</valueType>
                            <value>ITEM_1</value>
                        </element>
                    </elements>
                </element>
            </output>
        </type>
    </types>

    <threadSafe>true</threadSafe>

    <description>
        <entry>
            <key>en</key>
            <value>The module is a set of dialog boxes.</value>
        </entry>
        <entry>
            <key>ru</key>
            <value>Модуль предсталяет собой набор диалоговых окон.</value>
        </entry>
    </description>

    <help>
        <entry>
            <key>en</key>
            <value><![CDATA[The module is a set of dialog boxes.
Each time it starts, it displays the selected dialog box and expects it to close. when closing the window, returns data corresponding to the type of window.
There is an opportunity to internationalize the text. To do this, use the lang setting. In the text, the variable name is surrounded by double quotes: [[message]].
The title and message settings contain values that will be displayed in dialog boxes in the corresponding positions. Not used in all types of windows, for example, the FILE_READ type.
If there are incoming messages, they are concatenated together into one line, if necessary, translated and displayed instead of the message setting (except FILE_READ, FILE_SAVE, SELECT).
            ]]></value>
        </entry>
        <entry>
            <key>ru</key>
            <value><![CDATA[Модуль предсталяет собой набор диалоговых окон.
При каждом запуске показывает выбранное диалоговое окно и ожидает его закрытия. при закрытии окна, возвращает данные, соответствующие типу окна.
Есть возможность по интернационализации текста. Для этого используется настройка lang. В тексте имя переменной обрамляется двойными кавыйчками: [[message]].
Настройки title и message содержат значения которые будут выводится в диалоговых окнах в соответствующих позициях. Используются не во всех типах оконо, например тип FILE_READ.
Если есть входящие сообщения, они объединяются вместе в одну строку, при необходимости, переводятся и выводятся в замен настройки message (кроме FILE_READ, FILE_SAVE, SELECT).
            ]]></value>
        </entry>
    </help>

    <examples>
        <example>
            <description>
                <entry>
                    <key>en</key>
                    <value>First example. dialog box to select a file to read.</value>
                </entry>
                <entry>
                    <key>ru</key>
                    <value>Первый пример. диалоговое окно выбора файла для чтения.</value>
                </entry>
            </description>
            <settings>
                <setting>
                    <name>type</name>
                    <value>FILE_READ</value>
                </setting>
                <setting>
                    <name>title</name>
                    <value>Test</value>
                </setting>
                <setting>
                    <name>message</name>
                    <value>msg</value>
                </setting>
            </settings>
            <variables/>
            <sources/>
            <output>
                <message>
                    <type>STRING</type>
                    <value>C:\Recovery.txt</value>
                </message>
            </output>
            <countManagedExecutionContexts>0</countManagedExecutionContexts>
            <countManagedConfigurations>0</countManagedConfigurations>
        </example>
        <example>
            <description>
                <entry>
                    <key>en</key>
                    <value>Second example. dialog box to text input.</value>
                </entry>
                <entry>
                    <key>ru</key>
                    <value>Второй пример. диалоговое окно тестового ввода.</value>
                </entry>
            </description>
            <settings>
                <setting>
                    <name>type</name>
                    <value>INPUT</value>
                </setting>
                <setting>
                    <name>title</name>
                    <value>Test</value>
                </setting>
                <setting>
                    <name>message</name>
                    <value>msg</value>
                </setting>
            </settings>
            <variables/>
            <sources/>
            <output>
                <message>
                    <type>STRING</type>
                    <value>test</value>
                </message>
            </output>
            <countManagedExecutionContexts>0</countManagedExecutionContexts>
            <countManagedConfigurations>0</countManagedConfigurations>
        </example>
        <example>
            <description>
                <entry>
                    <key>en</key>
                    <value>Third example. option selection dialog box. We choose the second option.</value>
                </entry>
                <entry>
                    <key>ru</key>
                    <value>Третий пример. диалоговое окно выбора варианта. Выбираем второй вариант.</value>
                </entry>
            </description>
            <settings>
                <setting>
                    <name>type</name>
                    <value>SELECT</value>
                </setting>
                <setting>
                    <name>title</name>
                    <value>Test</value>
                </setting>
                <setting>
                    <name>message</name>
                    <value>msg</value>
                </setting>
            </settings>
            <variables/>
            <sources>
                <source>
                    <actions>
                        <action>
                            <messages>
                                <message>
                                    <type>STRING</type>
                                    <value>value 1</value>
                                </message>
                                <message>
                                    <type>STRING</type>
                                    <value>value 2</value>
                                </message>
                                <message>
                                    <type>STRING</type>
                                    <value>value 3</value>
                                </message>
                            </messages>
                        </action>
                    </actions>
                </source>
            </sources>
            <output>
                <message>
                    <type>STRING</type>
                    <value>value 2</value>
                </message>
            </output>
            <countManagedExecutionContexts>0</countManagedExecutionContexts>
            <countManagedConfigurations>0</countManagedConfigurations>
        </example>
    </examples>
    <icon><![CDATA[iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAAA8klEQVRoge3ZUQrCMBAE0FGkd1LPp9VzVRHvYXsM9SfVgjUbsd1OwzwI7UeiOyRQkgAiIkKiAHAE0AB4kLUaQBlqNB0ICrbaPiVIHTqvUzo72+A9M6Y2NQCcAVTGu7dufS9LY9C9M+jbO63exER661sZA2bDWlqzEZuRhVsVv+ldKdnMiIKw8QhyBXBx+J8PQ39HXH5PS4uNgrBREDZDBKkQ35a2Yn3+3qSxzMgoWwZ9EKekIGwUhE02QWKHD0M5YaKjpVke0GWztLIO0oTnxrOQRNvwTLpWKDH9RY7VdilBihCmvfBharcQIunqTURERvcEEvreQMbAaWoAAAAASUVORK5CYII=]]></icon>

</properties>
